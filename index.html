<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1850, height=980">
    <title>Debug Task 6: Bubble Sort</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            width: 1920px;
            height: 980px;
            overflow: hidden;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f8f9fa;
            padding: 20px;
        }
        
        .debug-container {
            width: 1880px;
            height: 880px; /* 980 - 40px padding - 60px for Next button */
        }
        
        .three-columns {
            display: flex;
            gap: 20px;
            width: 1880px;
            height: 880px;
        }
        
        .panel {
            width: 613px; /* (1880 - 40px gaps) / 3 */
            height: 880px;
            background: #ffffff;
            padding: 24px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        .panel-header {
            height: 70px;
            margin-bottom: 20px;
            padding-bottom: 14px;
            border-bottom: 4px solid;
            flex-shrink: 0;
        }
        
        .panel-header.flowchart { border-color: #3182ce; }
        .panel-header.prompt { border-color: #38a169; }
        .panel-header.code { border-color: #667eea; }
        
        .panel-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 4px;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .panel-title.flowchart { color: #3182ce; }
        .panel-title.prompt { color: #38a169; }
        .panel-title.code { color: #667eea; }
        
        .panel-title .icon {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            color: white;
            font-size: 18px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        
        .panel-title.flowchart .icon { background: linear-gradient(135deg, #3182ce, #2b6cb0); }
        .panel-title.prompt .icon { background: linear-gradient(135deg, #38a169, #2f855a); }
        .panel-title.code .icon { background: linear-gradient(135deg, #667eea, #5a67d8); }
        
        .panel-subtitle {
            color: #718096;
            font-size: 14px;
            margin-left: 48px;
        }
        
        .panel-content {
            width: 565px; /* 613 - 48px padding */
            height: 742px; /* 880 - 48px padding - 70px header - 20px margin */
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        /* FLOWCHART - auto fit, no scroll */
        .flowchart-container {
            width: 565px;
            height: 742px;
            background: #f7fafc;
            border-radius: 10px;
            border: 1px solid #e2e8f0;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 10px;
            overflow: hidden;
        }
        
        .flowchart-container svg {
            max-width: 545px;
            max-height: 722px;
        }
        
        /* PROMPT - scroll enabled */
        .prompt-content {
            width: 565px;
            height: 742px;
            background: #f0fff4;
            border: 2px solid #9ae6b4;
            border-radius: 10px;
            padding: 28px;
            overflow: auto;
        }
        
        .prompt-text {
            font-size: 22px;
            color: #2d3748;
            line-height: 1.8;
            text-align: justify;
        }
        
        .prompt-text p {
            margin-bottom: 18px;
        }
        
        .prompt-text p:last-child {
            margin-bottom: 0;
        }
        
        .prompt-highlight {
            background: #c6f6d5;
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: 600;
            white-space: nowrap;
        }
        
        /* CODE - scroll enabled */
        .code-wrapper {
            width: 565px;
            height: 742px;
            background: #f7fafc;
            border: 1px solid #e2e8f0;
            border-radius: 10px;
            padding: 20px;
            overflow: auto;
        }
        
        .code-block {
            font-family: 'Fira Code', 'Consolas', monospace;
            font-size: 18px;
            line-height: 1.9;
            color: #2d3748;
        }
        
        .code-line {
            display: block;
            padding: 1px 0;
            white-space: nowrap;
        }
        
        .line-number {
            display: inline-block;
            width: 24px;
            color: #a0aec0;
            text-align: right;
            margin-right: 16px;
            user-select: none;
            font-weight: 500;
        }
        
        .code-keyword { color: #805ad5; font-weight: 600; }
        .code-variable { color: #2d3748; font-weight: 500; }
        .code-operator { color: #718096; }
        .code-number { color: #d53f8c; font-weight: 600; }
        .code-function { color: #3182ce; font-weight: 600; }
        .code-comment { color: #38a169; font-style: italic; }
    </style>
</head>
<body>
    <div class="debug-container">
        <div class="three-columns">
            <!-- LEFT: FLOWCHART -->
            <div class="panel">
                <div class="panel-header flowchart">
                    <div class="panel-title flowchart">
                        <span class="icon">üìä</span>
                        Flowchart
                    </div>
                    <div class="panel-subtitle">Visual representation</div>
                </div>
                
                <div class="panel-content">
                    <div class="flowchart-container">
                        <svg viewBox="-80 0 520 820" xmlns="http://www.w3.org/2000/svg">
                            <defs>
                                <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
                                    <path d="M 0 0 L 10 5 L 0 10 z" fill="#4a5568"/>
                                </marker>
                            </defs>
                            <g font-family="Segoe UI" fill="#2d3748">
                                <ellipse cx="200" cy="30" rx="50" ry="20" fill="#e2e8f0" stroke="#4a5568" stroke-width="2"/>
                                <text x="200" y="35" text-anchor="middle" font-size="12" font-weight="600">START</text>
                                <circle cx="-50" cy="30" r="12" fill="#667eea"/>
                                <text x="-50" y="34" text-anchor="middle" font-size="9" font-weight="700" fill="#fff">1</text>
                                <rect x="115" y="65" width="170" height="40" rx="6" fill="#bee3f8" stroke="#3182ce" stroke-width="2"/>
                                <text x="200" y="90" text-anchor="middle" font-size="11" font-weight="600">Input: arr, n</text>
                                <circle cx="-50" cy="85" r="12" fill="#667eea"/>
                                <text x="-50" y="89" text-anchor="middle" font-size="9" font-weight="700" fill="#fff">2</text>
                                <rect x="140" y="120" width="120" height="32" rx="6" fill="#bee3f8" stroke="#3182ce" stroke-width="2"/>
                                <text x="200" y="141" text-anchor="middle" font-size="11" font-weight="600">i ‚Üê 0</text>
                                <circle cx="-50" cy="136" r="12" fill="#667eea"/>
                                <text x="-50" y="140" text-anchor="middle" font-size="9" font-weight="700" fill="#fff">3</text>
                                <polygon points="200,170 270,210 200,250 130,210" fill="#fed7e2" stroke="#d53f8c" stroke-width="2"/>
                                <text x="200" y="215" text-anchor="middle" font-size="11" font-weight="600">i &lt; n-1 ?</text>
                                <circle cx="-50" cy="211" r="12" fill="#667eea"/>
                                <text x="-50" y="215" text-anchor="middle" font-size="9" font-weight="700" fill="#fff">4</text>
                                <rect x="25" y="285" width="120" height="32" rx="6" fill="#bee3f8" stroke="#3182ce" stroke-width="2"/>
                                <text x="85" y="306" text-anchor="middle" font-size="11" font-weight="600">j ‚Üê 0</text>
                                <circle cx="-50" cy="302" r="12" fill="#667eea"/>
                                <text x="-50" y="306" text-anchor="middle" font-size="9" font-weight="700" fill="#fff">5</text>
                                <polygon points="85,335 165,375 85,415 5,375" fill="#fed7e2" stroke="#d53f8c" stroke-width="2"/>
                                <text x="85" y="380" text-anchor="middle" font-size="10" font-weight="600">j &lt; n-i-1 ?</text>
                                <circle cx="-50" cy="376" r="12" fill="#667eea"/>
                                <text x="-50" y="380" text-anchor="middle" font-size="9" font-weight="700" fill="#fff">6</text>
                                <polygon points="85,440 170,485 85,530 0,485" fill="#fed7e2" stroke="#d53f8c" stroke-width="2"/>
                                <text x="85" y="482" text-anchor="middle" font-size="10" font-weight="600">arr[j] &gt;</text>
                                <text x="85" y="496" text-anchor="middle" font-size="10" font-weight="600">arr[j+1] ?</text>
                                <circle cx="-50" cy="485" r="12" fill="#667eea"/>
                                <text x="-50" y="489" text-anchor="middle" font-size="9" font-weight="700" fill="#fff">7</text>
                                <rect x="15" y="555" width="140" height="55" rx="6" fill="#c6f6d5" stroke="#38a169" stroke-width="2"/>
                                <text x="85" y="575" text-anchor="middle" font-size="10" font-weight="600">Swap:</text>
                                <text x="85" y="592" text-anchor="middle" font-size="9">arr[j] ‚Üî arr[j+1]</text>
                                <circle cx="-50" cy="579.5" r="12" fill="#667eea"/>
                                <text x="-50" y="583.5" text-anchor="middle" font-size="9" font-weight="700" fill="#fff">8</text>
                                <rect x="25" y="630" width="120" height="32" rx="6" fill="#bee3f8" stroke="#3182ce" stroke-width="2"/>
                                <text x="85" y="651" text-anchor="middle" font-size="11" font-weight="600">j ‚Üê j + 1</text>
                                <circle cx="-50" cy="647" r="12" fill="#667eea"/>
                                <text x="-50" y="651" text-anchor="middle" font-size="9" font-weight="700" fill="#fff">9</text>
                                <rect x="260" y="359" width="120" height="32" rx="6" fill="#bee3f8" stroke="#3182ce" stroke-width="2"/>
                                <text x="320" y="378" text-anchor="middle" font-size="11" font-weight="600">i ‚Üê i + 1</text>
                                <circle cx="405" cy="375" r="12" fill="#667eea"/>
                                <text x="405" y="379" text-anchor="middle" font-size="9" font-weight="700" fill="#fff">10</text>
                                <rect x="330" y="700" width="100" height="35" rx="6" fill="#c6f6d5" stroke="#38a169" stroke-width="2"/>
                                <text x="380" y="721" text-anchor="middle" font-size="11" font-weight="600">Output: arr</text>
                                <circle cx="305" cy="717" r="12" fill="#667eea"/>
                                <text x="305" y="721" text-anchor="middle" font-size="9" font-weight="700" fill="#fff">11</text>
                                <ellipse cx="380" cy="775" rx="45" ry="18" fill="#e2e8f0" stroke="#4a5568" stroke-width="2"/>
                                <text x="380" y="780" text-anchor="middle" font-size="11" font-weight="600">END</text>
                                <circle cx="305" cy="776" r="12" fill="#667eea"/>
                                <text x="305" y="780" text-anchor="middle" font-size="9" font-weight="700" fill="#fff">12</text>
                                <path d="M200 50 L200 65" stroke="#4a5568" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
                                <path d="M200 105 L200 120" stroke="#4a5568" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
                                <path d="M200 152 L200 170" stroke="#4a5568" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
                                <path d="M130 210 L85 210 L85 285" stroke="#4a5568" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
                                <text x="100" y="205" font-size="9" font-weight="700">YES</text>
                                <path d="M270 210 L380 210 L380 700" stroke="#4a5568" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
                                <text x="295" y="205" font-size="9" font-weight="700">NO</text>
                                <path d="M85 317 L85 335" stroke="#4a5568" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
                                <path d="M85 415 L85 440" stroke="#4a5568" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
                                <text x="70" y="430" font-size="9" font-weight="700">YES</text>
                                <path d="M165 375 L260 375" stroke="#4a5568" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
                                <text x="200" y="368" font-size="9" font-weight="700">NO</text>
                                <path d="M85 530 L85 555" stroke="#4a5568" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
                                <text x="70" y="545" font-size="9" font-weight="700">YES</text>
                                <path d="M170 485 L190 485 L190 646 L145 646" stroke="#4a5568" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
                                <text x="180" y="478" font-size="9" font-weight="700">NO</text>
                                <path d="M85 610 L85 630" stroke="#4a5568" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
                                <path d="M25 646 L-25 646 L-25 375 L5 375" stroke="#4a5568" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
                                <path d="M320 360 L320 230 L240 230" stroke="#4a5568" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
                                <path d="M380 735 L380 757" stroke="#4a5568" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
                            </g>
                        </svg>
                    </div>
                </div>
            </div>
            
            <!-- MIDDLE: CODE PROMPT -->
            <div class="panel">
                <div class="panel-header prompt">
                    <div class="panel-title prompt">
                        <span class="icon">üìù</span>
                        Code Prompt
                    </div>
                    <div class="panel-subtitle">Algorithm description</div>
                </div>
                
                <div class="panel-content">
                    <div class="prompt-content">
                        <div class="prompt-text">
                            <p>
                                Write a function called <span class="prompt-highlight">bubbleSort</span> that takes an array <span class="prompt-highlight">arr</span> and its length <span class="prompt-highlight">n</span> as parameters, and sorts the array in ascending order.
                            </p>
                            <p>
                                The algorithm uses two nested loops. The outer loop runs from <span class="prompt-highlight">i = 0</span> to <span class="prompt-highlight">n - 2</span>, controlling the number of passes through the array.
                            </p>
                            <p>
                                For each pass, the inner loop runs from <span class="prompt-highlight">j = 0</span> to <span class="prompt-highlight">n - i - 2</span>, comparing each pair of adjacent elements.
                            </p>
                            <p>
                                If <span class="prompt-highlight">arr[j]</span> is greater than <span class="prompt-highlight">arr[j+1]</span>, swap the two elements using a temporary variable. This causes larger elements to "bubble up" toward the end of the array.
                            </p>
                            <p>
                                After all passes are complete, return the sorted array.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- RIGHT: CODE -->
            <div class="panel">
                <div class="panel-header code">
                    <div class="panel-title code">
                        <span class="icon">üíª</span>
                        Code
                    </div>
                    <div class="panel-subtitle">Pseudocode</div>
                </div>
                
                <div class="panel-content">
                    <div class="code-wrapper">
                        <div class="code-block">
<span class="code-line"><span class="line-number">1</span><span class="code-keyword">function</span> <span class="code-function">bubbleSort</span>(<span class="code-variable">arr</span>, <span class="code-variable">n</span>):</span>
<span class="code-line"><span class="line-number">2</span></span>
<span class="code-line"><span class="line-number">3</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="code-variable">i</span> <span class="code-operator">‚Üê</span> <span class="code-number">0</span></span>
<span class="code-line"><span class="line-number">4</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="code-keyword">while</span> <span class="code-variable">i</span> <span class="code-operator">&lt;</span> <span class="code-variable">n</span> <span class="code-operator">-</span> <span class="code-number">1</span>:</span>
<span class="code-line"><span class="line-number">5</span></span>
<span class="code-line"><span class="line-number">6</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="code-variable">j</span> <span class="code-operator">‚Üê</span> <span class="code-number">0</span></span>
<span class="code-line"><span class="line-number">7</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="code-keyword">while</span> <span class="code-variable">j</span> <span class="code-operator">&lt;</span> <span class="code-variable">n</span> <span class="code-operator">-</span> <span class="code-variable">i</span> <span class="code-operator">-</span> <span class="code-number">1</span>:</span>
<span class="code-line"><span class="line-number">8</span></span>
<span class="code-line"><span class="line-number">9</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="code-keyword">if</span> <span class="code-variable">arr</span>[<span class="code-variable">j</span>] <span class="code-operator">&gt;</span> <span class="code-variable">arr</span>[<span class="code-variable">j</span><span class="code-operator">+</span><span class="code-number">1</span>]:</span>
<span class="code-line"><span class="line-number">10</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="code-comment">// Swap</span></span>
<span class="code-line"><span class="line-number">11</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="code-variable">temp</span> <span class="code-operator">‚Üê</span> <span class="code-variable">arr</span>[<span class="code-variable">j</span>]</span>
<span class="code-line"><span class="line-number">12</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="code-variable">arr</span>[<span class="code-variable">j</span>] <span class="code-operator">‚Üê</span> <span class="code-variable">arr</span>[<span class="code-variable">j</span><span class="code-operator">+</span><span class="code-number">1</span>]</span>
<span class="code-line"><span class="line-number">13</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="code-variable">arr</span>[<span class="code-variable">j</span><span class="code-operator">+</span><span class="code-number">1</span>] <span class="code-operator">‚Üê</span> <span class="code-variable">temp</span></span>
<span class="code-line"><span class="line-number">14</span></span>
<span class="code-line"><span class="line-number">15</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="code-variable">j</span> <span class="code-operator">‚Üê</span> <span class="code-variable">j</span> <span class="code-operator">+</span> <span class="code-number">1</span></span>
<span class="code-line"><span class="line-number">16</span></span>
<span class="code-line"><span class="line-number">17</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="code-variable">i</span> <span class="code-operator">‚Üê</span> <span class="code-variable">i</span> <span class="code-operator">+</span> <span class="code-number">1</span></span>
<span class="code-line"><span class="line-number">18</span></span>
<span class="code-line"><span class="line-number">19</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="code-keyword">return</span> <span class="code-variable">arr</span></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
